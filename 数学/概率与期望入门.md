# 概率与期望入门

## 定义

期望的定义是:
$$
\mathrm{E}(\mathrm{X})=\operatorname{Sum}\left[\mathrm{P}(\mathrm{X}=\mathrm{i})^{\star} \mathrm{i}\right]
$$
通俗易懂的讲就是每种情况出现的概率$\times$这种情况的权值。

## 几种常用的处理方式

### 当状态转移方式不变时

 如果遇到状态转移方式不变时，这类题就很好做了。

一道经典例题：

[LOOPS](http://acm.hdu.edu.cn/showproblem.php?pid=3853)

在这道题中，对于每一个格子，它能转移到哪些格子都是确定了的。我们知道这个格子$P$的期望有$a的概率转移到格子A，b的概率转移到格子B，c的概率转移到格子C$，且$a+b+c=1$。

我们会发现，这个格子的期望$E(P)$有$a$的概率为$E(A)$，$b$的概率为$E(A)$，$c$的概率为$E(A)$。

那么根据期望的定义，我们就得知$E(P)=aE(A)+bE(B)+cE(C)$。那我们根据依赖的先后顺序依次求解就可以了。

### 当转移到的点都为等效点

在[A Dangerous Maze (II)](https://vjudge.net/problem/LightOJ-1395)这道题中，我们发现一个点的转移方式可能会改变（随着游戏进行禁止某些转移方式），所以上面的方法是不可用的。

但是我们可以发现，这道题的起点能转移到的点都是等效点（终点），所以我们可以把他们的转移视为一样的。即将起点所有转移的代价这是为转移代价的平均值（转移代价的期望）。



